!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).uwhen={})}(this,(function(e){"use strict";var t=new Set;function n(e,n){var r=new Set;function o(){document.querySelectorAll(e).forEach((function(o){if(!r.has(o)){r.add(o);var i=n(o),l="function"==typeof i?i:function(){};!function(e,n,r){function o(){n&&document.contains(n)&&n.matches(e)||(t.delete(o),r())}setTimeout(o),t.add(o)}(e,o,(function(){r.delete(o),l()}))}}))}setTimeout(o),t.add(o)}new window.MutationObserver((function(){t.forEach((function(e){return e()}))})).observe(document,{attributes:!0,childList:!0,subtree:!0});let r=(e,t,n,o)=>{let i={};for(let l=1;l<t.length;l++){let u=t[l],s="number"==typeof u?n[u]:u,f=t[++l];if(1===f)o[0]=s;else if(3===f)o[1]=Object.assign(o[1]||{},s);else if(5===f)(o[1]=o[1]||{})[t[++l]]=s;else if(6===f){let e=t[++l],n=(o[1]=o[1]||{})[e],r=i[e];r||"function"!=typeof s&&"function"!=typeof n||(r=n&&[n]||[],o[1][e]=function(){let e="";for(var t=0;t<r.length;t++)e+="function"==typeof r[t]?r[t].call(this):r[t];return e}),r?r.push(s):o[1][e]+=s+""}else if(f){let t=()=>e.apply(null,r(e,s,n,["",null]));o.push("function"==typeof o[0]?t:t())}else o.push(s)}return o},o=function(e){let t,n,r=1,o="",i="",l=[0],u=e=>{1===r&&(e||(o=o.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?l.push(e||o,0):3===r&&(e||o)?(l.push(e||o,1),r=2):2===r&&"..."===o&&e?l.push(e,3):2===r&&o&&!e?l.push(!0,5,o):r>=5&&((o||!e&&5===r)&&(l.push(o,r,n),r=6),e&&(l.push(e,r,n),r=6)),o=""};for(let s=0;s<e.length;s++){s&&(1===r&&u(),u(s));for(let f=0;f<e[s].length;f++)t=e[s][f],1===r?"<"===t?(u(),l=[l],r=3):o+=t:4===r?"--"===o&&">"===t?(r=1,o=""):o=t+o[0]:i?t===i?i="":o+=t:'"'===t||"'"===t?i=t:">"===t?(u(),r=1):r&&("="===t?(r=5,n=o,o=""):"/"===t&&(r<5||">"===e[s][f+1])?(u(),3===r&&(l=l[0]),r=l,(l=l[0]).push(r,2),r=0):" "===t||"\t"===t||"\n"===t||"\r"===t?(u(),r=2):o+=t),3===r&&"!--"===o&&(r=4,l=l[0])}return u(),l},i=new Map,l=function(e){let t=i.get(this);return t||(t=new Map,i.set(this,t)),t=r(this,t.get(e)||(t.set(e,t=o(e)),t),arguments,[]),t.length>1?t:t[0]},u=function(){let e=l.apply(this,arguments);if(e)return Array.isArray(e)?this(e):"object"==typeof e?e:this([e])};function s(){let e=u.bind(this);return(this.wrap||e).apply(e,arguments)}let f,c,a=[];function d(e){let t=f,n=()=>{};f=n,v(n);let r=e((()=>{g(n),f=void 0}));return f=t,r}function p(e){let t=f;f=void 0;let n=e();return f=t,n}function h(e){function t(n){if(0===arguments.length)return f&&!t.__o.has(f)&&(t.__o.add(f),f.u.push(t)),e;if(c)return t.t===a&&c.push(t),t.t=n,n;e=n;let r=f;return f=void 0,t.o=new Set(t.__o),t.o.forEach((e=>e.i=!1)),t.o.forEach((e=>{e.i||e()})),f=r,e}return t.$o=1,t.__o=new Set,t.t=a,t}function y(e,t){function n(){let r=f;return f&&f.__c.push(n),g(n),n.i=!0,f=n,t=e(t),f=r,t}function r(){return n.i?f&&n.u.forEach((e=>e())):t=n(),t}return e.s=n,v(n),n(),r.$o=1,r}function b(e){return f&&f.l.push(e),e}function m(e){return y(e),()=>g(e.s)}function g(e){e.__c.forEach(g),e.u.forEach((t=>{t.__o.delete(e),t.o&&t.o.delete(e)})),e.l.forEach((e=>e())),v(e)}function v(e){e.u=[],e.__c=[],e.l=[]}let E={},N=[];function w(e){return this.t&&this.t[e.type](e)}E.h=(...e)=>{let t,n=r=>{if(null==r);else if("string"==typeof r)t?E.add(t,r):t=E.s?document.createElementNS("http://www.w3.org/2000/svg",r):document.createElement(r);else if(Array.isArray(r))t||(t=document.createDocumentFragment()),r.forEach(n);else if(r instanceof Node)t?E.add(t,r):t=r;else if("object"==typeof r)E.property(t,r,null,E.s);else if("function"==typeof r)if(t){let e=E.add(t,"");E.insert(t,r,e)}else t=r.apply(null,e.splice(1));else E.add(t,""+r)};return e.forEach(n),t},E.insert=(e,t,n,r,o)=>(e=n&&n.parentNode||e,o=o||r instanceof Node&&r,t===r||(r&&"string"!=typeof r||!("string"==typeof t||"number"==typeof t&&(t+=""))?"function"==typeof t?E.subscribe((()=>{r=E.insert(e,t.call({el:e,endMark:n}),n,r,o)})):(n?r&&(o||(o=r.o&&r.o.nextSibling||n.previousSibling),E.rm(e,o,n)):e.textContent="",r=null,t&&!0!==t&&(r=E.add(e,t,n))):(null!=r&&e.firstChild?n?(n.previousSibling||e.lastChild).data=t:e.firstChild.data=t:n?E.add(e,t,n):e.textContent=t,r=t)),r),E.property=(e,t,n,r,o)=>{if(null!=t)if(!n||"attrs"===n&&(r=!0))for(n in t)E.property(e,t[n],n,r,o);else"o"!==n[0]||"n"!==n[1]||t.$o?"function"==typeof t?E.subscribe((()=>{E.property(e,t.call({el:e,name:n}),n,r,o)})):o?e.style.setProperty(n,t):r||"data-"===n.slice(0,5)||"aria-"===n.slice(0,5)?e.setAttribute(n,t):"style"===n?"string"==typeof t?e.style.cssText=t:E.property(e,t,null,r,!0):("class"===n&&(n+="Name"),e[n]=t):(i=e,u=t,l=(l=n).slice(2).toLowerCase(),u?i.addEventListener(l,w):i.removeEventListener(l,w),(i.t||(i.t={}))[l]=u);var i,l,u},E.add=(e,t,n)=>{let r=(e=>{const{childNodes:t}=e;if(t&&11===e.nodeType)return t.length<2?t[0]:{o:E.add(e,"",t[0])}})(t="string"==typeof(o=t)?document.createTextNode(o):o instanceof Node?o:E.h(N,o))||t;var o;return e.insertBefore(t,n&&n.parentNode&&n),r},E.rm=(e,t,n)=>{for(;t&&t!==n;){let n=t.nextSibling;e===t.parentNode&&e.removeChild(t),t=n}},E.subscribe=m,E.cleanup=b,E.root=d,E.sample=p,E.hs=(...e)=>{let t=E.s;E.s=!0;let n=A(...e);return E.s=t,n};let _,A=(...e)=>E.h.apply(E.h,e);function C(e,t){let n=_;_=[];let r=e(),o=_;_=n;let i=r.content||r.parentNode&&r;i||(i=document.createDocumentFragment(),i.appendChild(r));let l=i.cloneNode(!0);function u(e,n){!1!==n&&!0!==n||(t=n);let r,u={};return t?(i.p&&i.p.forEach((e=>i.appendChild(e))),r=i):r=l.cloneNode(!0),r.firstChild&&(r.firstChild.props=e),o.forEach((e=>{e.A=t?e.o:j(r,e.g),e.h=t?e.u:e.j&&j(e.A,e.j)})),o.forEach((t=>{E.action(t,e,u)(t.i,t.l)})),i.p=Array.from(i.childNodes),r}return t||o.forEach((e=>{e.g=S(i,e.o),e.j=e.u&&S(e.o,e.u)})),u.$t=!0,u}function S(e,t){let n,r=[];for(;(n=t.parentNode)!==e.parentNode;)r.unshift(Array.from(n.childNodes).indexOf(t)),t=n;return r}function j(e,t){return t.forEach((t=>e=e.childNodes[t])),e}E.action=(e,t,n)=>{let r=e.A;return(o,i)=>{let l=t[o];null!=l&&e(r,e.h,i,l),e.s&&(n[o]||(n[o]=[],Object.defineProperty(t,o,{get:()=>e.m?i in r?r[i]:r:l,set(e){l=e,n[o].forEach((t=>t(e)))}})),n[o].push(e.bind(null,r,e.h,i)))}};let x={};function M(e){let t=(e?E.hs:E.h).bind();return t.wrap=function(){let e=this,t=Array.from(arguments),n=t[0],r=t.slice(1);for(let i=1;i<t.length;i++)t[i]=T(i-1);function o(){const{endMark:i}=this||{},l=n.join("\0");let u=x[l];u||(u=C((()=>e.apply(null,t))),x[l]=u),o.t=o.t||i;let s=i&&o.t!==i;return u.t?s=u.t!==i:u.t=i,u(r,!s)}return o},t}function T(e){return function(e,t,n){let r=function(){const{el:r,name:o,endMark:i}=this,l=(e,t,n,r)=>{if(null==n){let n=t||e;n.t=E.insert(e,r,t,n.t)}else E.property(e,r,n)};l.o=r,l.u=i,l.l=o,l.i=e,l.s=t,l.m=n,_.push(l)};return r.$o=2,r}(e)}let $=M(),k=M(!0);const L=(e,t)=>e.getAttribute(t),O=(P="slot",q=!0,e=>[].reduce.call(e.querySelectorAll("["+P+"]"),((t,n)=>{let{parentNode:r}=n;do{if(r===e){const e=L(n,P);t[e]=q?[].concat(t[e]||[],n):n;break}if(/-/.test(r.tagName)||L(r,"is"))break}while(r=r.parentNode);return t}),{}));var P,q;e.S=y,e.cleanup=b,e.computed=y,e.h=$,e.hs=k,e.html=function(){return s.apply($,arguments)},e.isListening=function(){return!!f},e.o=h,e.observable=h,e.on=function(e,t,n,r){return e=[].concat(e),y((n=>{e.forEach((e=>e()));let o=n;return r||(o=p((()=>t(n)))),r=!1,o}),n)},e.render=function(e,t){t.t=t.t||E.add(t,""),t.o=E.insert(t,e,t.t,t.o)},e.root=d,e.sample=p,e.subscribe=m,e.svg=function(){return s.apply(k,arguments)},e.transaction=function(e){let t=c;c=[];let n=e(),r=c;return c=t,r.forEach((e=>{if(e.t!==a){let t=e.t;e.t=a,e(t)}})),n},e.unsubscribe=function(e){g(e.s)},e.when=(e,t)=>{n(e,(e=>{const n={};for(let t=0;t<e.attributes.length;t++)n[[e.attributes[t].name]]=e.attributes[t].value;const r=O(e);(e=>{for(;e.firstChild;)e.removeChild(e.firstChild)})(e);const o=t(e,n,r);return()=>{o&&o()}}))},Object.defineProperty(e,"__esModule",{value:!0}),e[Symbol.toStringTag]="Module"}));
