(function(p,k){typeof exports=="object"&&typeof module!="undefined"?k(exports):typeof define=="function"&&define.amd?define(["exports"],k):(p=typeof globalThis!="undefined"?globalThis:p||self,k(p.uwhen={}))})(this,function(p){"use strict";var k,v,Z,$,ee,te,O={},ne=[],We=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function S(e,t){for(var o in t)e[o]=t[o];return e}function oe(e){var t=e.parentNode;t&&t.removeChild(e)}function L(e,t,o){var _,s,n,i={};for(n in t)n=="key"?_=t[n]:n=="ref"?s=t[n]:i[n]=t[n];if(arguments.length>2&&(i.children=arguments.length>3?k.call(arguments,2):o),typeof e=="function"&&e.defaultProps!=null)for(n in e.defaultProps)i[n]===void 0&&(i[n]=e.defaultProps[n]);return T(e,i,_,s,null)}function T(e,t,o,_,s){var n={type:e,props:t,key:o,ref:_,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:s==null?++Z:s};return s==null&&v.vnode!=null&&v.vnode(n),n}function M(e){return e.children}function D(e,t){this.props=e,this.context=t}function E(e,t){if(t==null)return e.__?E(e.__,e.__.__k.indexOf(e)+1):null;for(var o;t<e.__k.length;t++)if((o=e.__k[t])!=null&&o.__e!=null)return o.__e;return typeof e.type=="function"?E(e):null}function _e(e){var t,o;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((o=e.__k[t])!=null&&o.__e!=null){e.__e=e.__c.base=o.__e;break}return _e(e)}}function re(e){(!e.__d&&(e.__d=!0)&&$.push(e)&&!N.__r++||te!==v.debounceRendering)&&((te=v.debounceRendering)||ee)(N)}function N(){for(var e;N.__r=$.length;)e=$.sort(function(t,o){return t.__v.__b-o.__v.__b}),$=[],e.some(function(t){var o,_,s,n,i,l;t.__d&&(i=(n=(o=t).__v).__e,(l=o.__P)&&(_=[],(s=S({},n)).__v=n.__v+1,z(l,n,s,o.__n,l.ownerSVGElement!==void 0,n.__h!=null?[i]:null,_,i==null?E(n):i,n.__h),ae(_,n),n.__e!=i&&_e(n)))})}function se(e,t,o,_,s,n,i,l,u,d){var r,a,c,f,h,w,y,g=_&&_.__k||ne,m=g.length;for(o.__k=[],r=0;r<t.length;r++)if((f=o.__k[r]=(f=t[r])==null||typeof f=="boolean"?null:typeof f=="string"||typeof f=="number"||typeof f=="bigint"?T(null,f,null,null,f):Array.isArray(f)?T(M,{children:f},null,null,null):f.__b>0?T(f.type,f.props,f.key,null,f.__v):f)!=null){if(f.__=o,f.__b=o.__b+1,(c=g[r])===null||c&&f.key==c.key&&f.type===c.type)g[r]=void 0;else for(a=0;a<m;a++){if((c=g[a])&&f.key==c.key&&f.type===c.type){g[a]=void 0;break}c=null}z(e,f,c=c||O,s,n,i,l,u,d),h=f.__e,(a=f.ref)&&c.ref!=a&&(y||(y=[]),c.ref&&y.push(c.ref,null,f),y.push(a,f.__c||h,f)),h!=null?(w==null&&(w=h),typeof f.type=="function"&&f.__k===c.__k?f.__d=u=ie(f,u,e):u=le(e,f,c,g,h,u),typeof o.type=="function"&&(o.__d=u)):u&&c.__e==u&&u.parentNode!=e&&(u=E(c))}for(o.__e=w,r=m;r--;)g[r]!=null&&(typeof o.type=="function"&&g[r].__e!=null&&g[r].__e==o.__d&&(o.__d=E(_,r+1)),he(g[r],g[r]));if(y)for(r=0;r<y.length;r++)de(y[r],y[++r],y[++r])}function ie(e,t,o){for(var _,s=e.__k,n=0;s&&n<s.length;n++)(_=s[n])&&(_.__=e,t=typeof _.type=="function"?ie(_,t,o):le(o,_,_,s,_.__e,t));return t}function le(e,t,o,_,s,n){var i,l,u;if(t.__d!==void 0)i=t.__d,t.__d=void 0;else if(o==null||s!=n||s.parentNode==null)e:if(n==null||n.parentNode!==e)e.appendChild(s),i=null;else{for(l=n,u=0;(l=l.nextSibling)&&u<_.length;u+=2)if(l==s)break e;e.insertBefore(s,n),i=n}return i!==void 0?i:s.nextSibling}function Ue(e,t,o,_,s){var n;for(n in o)n==="children"||n==="key"||n in t||W(e,n,null,o[n],_);for(n in t)s&&typeof t[n]!="function"||n==="children"||n==="key"||n==="value"||n==="checked"||o[n]===t[n]||W(e,n,t[n],o[n],_)}function ce(e,t,o){t[0]==="-"?e.setProperty(t,o):e[t]=o==null?"":typeof o!="number"||We.test(t)?o:o+"px"}function W(e,t,o,_,s){var n;e:if(t==="style")if(typeof o=="string")e.style.cssText=o;else{if(typeof _=="string"&&(e.style.cssText=_=""),_)for(t in _)o&&t in o||ce(e.style,t,"");if(o)for(t in o)_&&o[t]===_[t]||ce(e.style,t,o[t])}else if(t[0]==="o"&&t[1]==="n")n=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+n]=o,o?_||e.addEventListener(t,n?ue:fe,n):e.removeEventListener(t,n?ue:fe,n);else if(t!=="dangerouslySetInnerHTML"){if(s)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in e)try{e[t]=o==null?"":o;break e}catch{}typeof o=="function"||(o!=null&&(o!==!1||t[0]==="a"&&t[1]==="r")?e.setAttribute(t,o):e.removeAttribute(t))}}function fe(e){this.l[e.type+!1](v.event?v.event(e):e)}function ue(e){this.l[e.type+!0](v.event?v.event(e):e)}function z(e,t,o,_,s,n,i,l,u){var d,r,a,c,f,h,w,y,g,m,I,b=t.type;if(t.constructor!==void 0)return null;o.__h!=null&&(u=o.__h,l=t.__e=o.__e,t.__h=null,n=[l]),(d=v.__b)&&d(t);try{e:if(typeof b=="function"){if(y=t.props,g=(d=b.contextType)&&_[d.__c],m=d?g?g.props.value:d.__:_,o.__c?w=(r=t.__c=o.__c).__=r.__E:("prototype"in b&&b.prototype.render?t.__c=r=new b(y,m):(t.__c=r=new D(y,m),r.constructor=b,r.render=je),g&&g.sub(r),r.props=y,r.state||(r.state={}),r.context=m,r.__n=_,a=r.__d=!0,r.__h=[]),r.__s==null&&(r.__s=r.state),b.getDerivedStateFromProps!=null&&(r.__s==r.state&&(r.__s=S({},r.__s)),S(r.__s,b.getDerivedStateFromProps(y,r.__s))),c=r.props,f=r.state,a)b.getDerivedStateFromProps==null&&r.componentWillMount!=null&&r.componentWillMount(),r.componentDidMount!=null&&r.__h.push(r.componentDidMount);else{if(b.getDerivedStateFromProps==null&&y!==c&&r.componentWillReceiveProps!=null&&r.componentWillReceiveProps(y,m),!r.__e&&r.shouldComponentUpdate!=null&&r.shouldComponentUpdate(y,r.__s,m)===!1||t.__v===o.__v){r.props=y,r.state=r.__s,t.__v!==o.__v&&(r.__d=!1),r.__v=t,t.__e=o.__e,t.__k=o.__k,t.__k.forEach(function(V){V&&(V.__=t)}),r.__h.length&&i.push(r);break e}r.componentWillUpdate!=null&&r.componentWillUpdate(y,r.__s,m),r.componentDidUpdate!=null&&r.__h.push(function(){r.componentDidUpdate(c,f,h)})}r.context=m,r.props=y,r.state=r.__s,(d=v.__r)&&d(t),r.__d=!1,r.__v=t,r.__P=e,d=r.render(r.props,r.state,r.context),r.state=r.__s,r.getChildContext!=null&&(_=S(S({},_),r.getChildContext())),a||r.getSnapshotBeforeUpdate==null||(h=r.getSnapshotBeforeUpdate(c,f)),I=d!=null&&d.type===M&&d.key==null?d.props.children:d,se(e,Array.isArray(I)?I:[I],t,o,_,s,n,i,l,u),r.base=t.__e,t.__h=null,r.__h.length&&i.push(r),w&&(r.__E=r.__=null),r.__e=!1}else n==null&&t.__v===o.__v?(t.__k=o.__k,t.__e=o.__e):t.__e=Re(o.__e,t,o,_,s,n,i,u);(d=v.diffed)&&d(t)}catch(V){t.__v=null,(u||n!=null)&&(t.__e=l,t.__h=!!u,n[n.indexOf(l)]=null),v.__e(V,t,o)}}function ae(e,t){v.__c&&v.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(_){_.call(o)})}catch(_){v.__e(_,o.__v)}})}function Re(e,t,o,_,s,n,i,l){var u,d,r,a=o.props,c=t.props,f=t.type,h=0;if(f==="svg"&&(s=!0),n!=null){for(;h<n.length;h++)if((u=n[h])&&"setAttribute"in u==!!f&&(f?u.localName===f:u.nodeType===3)){e=u,n[h]=null;break}}if(e==null){if(f===null)return document.createTextNode(c);e=s?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,c.is&&c),n=null,l=!1}if(f===null)a===c||l&&e.data===c||(e.data=c);else{if(n=n&&k.call(e.childNodes),d=(a=o.props||O).dangerouslySetInnerHTML,r=c.dangerouslySetInnerHTML,!l){if(n!=null)for(a={},h=0;h<e.attributes.length;h++)a[e.attributes[h].name]=e.attributes[h].value;(r||d)&&(r&&(d&&r.__html==d.__html||r.__html===e.innerHTML)||(e.innerHTML=r&&r.__html||""))}if(Ue(e,c,a,s,l),r)t.__k=[];else if(h=t.props.children,se(e,Array.isArray(h)?h:[h],t,o,_,s&&f!=="foreignObject",n,i,n?n[0]:o.__k&&E(o,0),l),n!=null)for(h=n.length;h--;)n[h]!=null&&oe(n[h]);l||("value"in c&&(h=c.value)!==void 0&&(h!==e.value||f==="progress"&&!h||f==="option"&&h!==a.value)&&W(e,"value",h,a.value,!1),"checked"in c&&(h=c.checked)!==void 0&&h!==e.checked&&W(e,"checked",h,a.checked,!1))}return e}function de(e,t,o){try{typeof e=="function"?e(t):e.current=t}catch(_){v.__e(_,o)}}function he(e,t,o){var _,s;if(v.unmount&&v.unmount(e),(_=e.ref)&&(_.current&&_.current!==e.__e||de(_,null,t)),(_=e.__c)!=null){if(_.componentWillUnmount)try{_.componentWillUnmount()}catch(n){v.__e(n,t)}_.base=_.__P=null}if(_=e.__k)for(s=0;s<_.length;s++)_[s]&&he(_[s],t,typeof e.type!="function");o||e.__e==null||oe(e.__e),e.__e=e.__d=void 0}function je(e,t,o){return this.constructor(e,o)}function pe(e,t,o){var _,s,n;v.__&&v.__(e,t),s=(_=typeof o=="function")?null:o&&o.__k||t.__k,n=[],z(t,e=(!_&&o||t).__k=L(M,null,[e]),s||O,O,t.ownerSVGElement!==void 0,!_&&o?[o]:s?null:t.firstChild?k.call(t.childNodes):null,n,!_&&o?o:s?s.__e:t.firstChild,_),ae(n,e)}k=ne.slice,v={__e:function(e,t,o,_){for(var s,n,i;t=t.__;)if((s=t.__c)&&!s.__)try{if((n=s.constructor)&&n.getDerivedStateFromError!=null&&(s.setState(n.getDerivedStateFromError(e)),i=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(e,_||{}),i=s.__d),i)return s.__E=s}catch(l){e=l}throw e}},Z=0,D.prototype.setState=function(e,t){var o;o=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=S({},this.state),typeof e=="function"&&(e=e(S({},o),this.props)),e&&S(o,e),e!=null&&this.__v&&(t&&this.__h.push(t),re(this))},D.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),re(this))},D.prototype.render=M,$=[],ee=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,N.__r=0;var ye=typeof Promise=="function"?Promise:function(e){let t=[],o=0,_;return e(n=>{_=n,o=1,t.splice(0).forEach(s)}),{then:s};function s(n){return o?setTimeout(n,0,_):t.push(n),this}};let U=null,R=new Set;const ve=e=>{const{$:t,r:o,h:_}=e;F(o)&&(C.get(_).delete(e),o()),F(e.r=t())&&C.get(_).add(e)},Fe=()=>{const e=R;R=new Set,e.forEach(({h:t,c:o,a:_,e:s})=>{s&&t.apply(o,_)})},C=new WeakMap,j=[],B=[];function ge(e,t){return e!==this[t]}const xe=e=>{const t=C.get(e);t&&Q.then(()=>{t.forEach(o=>{o.r(),o.r=null}),t.clear()})},P=()=>U,qe=e=>C.has(e),F=e=>typeof e=="function",He=e=>{const t={h:o,c:null,a:null,e:0,i:0,s:[]};return o;function o(){const _=U;U=t,t.e=t.i=0;try{return e.apply(t.c=this,t.a=arguments)}finally{U=_,j.length&&Q.then(j.forEach.bind(j.splice(0),ve)),B.length&&B.splice(0).forEach(ve)}}},Ie=e=>{R.has(e)||(e.e=1,R.add(e),Q.then(Fe))},Q=new ye(e=>e()),Ve=e=>({_:new Set,provide:Be,value:e}),ze=({_:e,value:t})=>(e.add(P()),t);function Be(e){const{_:t,value:o}=this;o!==e&&(this._=new Set,this.value=e,t.forEach(({h:_,c:s,a:n})=>{_.apply(s,n)}))}const Qe=(e,t)=>me(()=>e,t),me=(e,t)=>{const o=P(),{i:_,s}=o;return(_===s.length||!t||t.some(ge,s[_]._))&&(s[_]={$:e(),_:t}),s[o.i++].$},be=e=>(t,o)=>{const _=P(),{i:s,s:n,h:i}=_,l=s===n.length;_.i++,l&&(C.has(i)||C.set(i,new Set),n[s]={$:t,_:o,r:null,h:i}),(l||!o||o.some(ge,n[s]._))&&e.push(n[s]),n[s].$=t,n[s]._=o},Ge=be(j),Je=be(B),ke=(e,t)=>F(t)?t(e):t,Se=(e,t,o)=>{const _=P(),{i:s,s:n}=_;s===n.length&&n.push({$:F(o)?o(t):ke(void 0,t),set:u=>{n[s].$=e(n[s].$,u),Ie(_)}});const{$:i,set:l}=n[_.i++];return[i,l]},Ke=e=>Se(ke,e),Xe=e=>{const t=P(),{i:o,s:_}=t;return o===_.length&&_.push({current:e}),_[t.i++]},x=!0,G=!1,we="querySelectorAll";function Ye(e){this.observe(e,{subtree:x,childList:x})}const Ze=(e,t,o)=>{const _=(n,i,l,u,d)=>{for(let r=0,{length:a}=n;r<a;r++){const c=n[r];(d||we in c)&&(u?i.has(c)||(i.add(c),l.delete(c),e(c,u)):l.has(c)||(l.add(c),i.delete(c),e(c,u)),d||_(c[we]("*"),i,l,u,x))}},s=new(o||MutationObserver)(n=>{for(let i=new Set,l=new Set,u=0,{length:d}=n;u<d;u++){const{addedNodes:r,removedNodes:a}=n[u];_(a,i,l,G,G),_(r,i,l,x,G)}});return s.add=Ye,s.add(t||document),s},Ee="querySelectorAll",{document:et,Element:Ce,MutationObserver:tt,Set:nt,WeakMap:ot}=self,Ae=e=>Ee in e,{filter:$e}=[];var _t=e=>{const t=new ot,o=a=>{for(let c=0,{length:f}=a;c<f;c++)t.delete(a[c])},_=()=>{const a=d.takeRecords();for(let c=0,{length:f}=a;c<f;c++)i($e.call(a[c].removedNodes,Ae),!1),i($e.call(a[c].addedNodes,Ae),!0)},s=a=>a.matches||a.webkitMatchesSelector||a.msMatchesSelector,n=(a,c)=>{let f;if(c)for(let h,w=s(a),y=0,{length:g}=l;y<g;y++)w.call(a,h=l[y])&&(t.has(a)||t.set(a,new nt),f=t.get(a),f.has(h)||(f.add(h),e.handle(a,c,h)));else t.has(a)&&(f=t.get(a),t.delete(a),f.forEach(h=>{e.handle(a,c,h)}))},i=(a,c=!0)=>{for(let f=0,{length:h}=a;f<h;f++)n(a[f],c)},{query:l}=e,u=e.root||et,d=Ze(n,u,tt),{attachShadow:r}=Ce.prototype;return r&&(Ce.prototype.attachShadow=function(a){const c=r.call(this,a);return d.add(c),c}),l.length&&i(u[Ee](l)),{drop:o,flush:_,observer:d,parse:i}};const{create:Me,keys:rt}=Object,J=new WeakMap,q=new Set,A=[],K={},H={},st=(e,t)=>{for(let o=J.get(t),_=0,{length:s}=e;_<s;_++){const{target:n,attributeName:i,oldValue:l}=e[_],u=n.getAttribute(i);o.attributeChanged(i,l,u)}},it=(e,t,o,_)=>{const s=Me(_,{element:{enumerable:!0,value:e}});for(let i=0,{length:l}=o;i<l;i++)e.addEventListener(o[i].t,s,o[i].o);t.set(e,s),s.init&&s.init();const{observedAttributes:n}=_;if(n){const i=new MutationObserver(st);i.observe(e,{attributes:!0,attributeOldValue:!0,attributeFilter:n.map(l=>(e.hasAttribute(l)&&s.attributeChanged(l,null,e.getAttribute(l)),l))}),J.set(i,s)}return s},{drop:lt,flush:Pe,parse:Oe}=_t({query:A,handle(e,t,o){const{m:_,l:s,o:n}=K[o],i=_.get(e)||it(e,_,s,n),l=t?"connected":"disconnected";l in i&&i[l]()}}),ct=e=>(K[e]||J).o,X=(e,t)=>{if(-1<A.indexOf(e))throw new Error("duplicated: "+e);Pe();const o=[],_=Me(null);for(let s=rt(t),n=0,{length:i}=s;n<i;n++){const l=s[n];if(/^on/.test(l)&&!/Options$/.test(l)){const u=t[l+"Options"]||!1,d=l.toLowerCase();let r=d.slice(2);o.push({t:r,o:u}),_[r]=l,d!==l&&(r=l.slice(2,3).toLowerCase()+l.slice(3),_[r]=l,o.push({t:r,o:u}))}}o.length&&(t.handleEvent=function(s){this[_[s.type]](s)}),A.push(e),K[e]={m:new WeakMap,l:o,o:t},Oe(document.querySelectorAll(e)),Le(e),q.has(e)||H[e]._()},ft=(e,t,o)=>{q.add(e),X(e,{init(){q.has(e)&&(q.delete(e),t().then(({default:_})=>{A.splice(A.indexOf(e),1),lt(document.querySelectorAll(e)),(o||X)(e,_)}))}})},ut=e=>{A.length&&(Pe(),Oe([e]))},Le=e=>{if(!(e in H)){let t,o=new ye(_=>{t=_});H[e]={_:t,$:o}}return H[e].$};function Te(){dt(this)}const Y=(e,t)=>{X(e,typeof t=="function"?{init:Te,render:t}:(t.init||(t.init=Te),t))},at=(e,t)=>{ft(e,t,Y)},dt=e=>{const{disconnected:t,element:o,render:_}=e,s=He(_.bind(e,o));return e.disconnected=()=>{qe(s)&&xe(s),t&&t.call(e)},(e.render=s)()};var De=function(e,t,o,_){var s;t[0]=0;for(var n=1;n<t.length;n++){var i=t[n++],l=t[n]?(t[0]|=i?1:2,o[t[n++]]):t[++n];i===3?_[0]=l:i===4?_[1]=Object.assign(_[1]||{},l):i===5?(_[1]=_[1]||{})[t[++n]]=l:i===6?_[1][t[++n]]+=l+"":i?(s=e.apply(l,De(e,l,o,["",null])),_.push(s),l[0]?t[0]|=2:(t[n-2]=0,t[n]=s)):_.push(l)}return _},Ne=new Map;function ht(e){var t=Ne.get(this);return t||(t=new Map,Ne.set(this,t)),(t=De(this,t.get(e)||(t.set(e,t=function(o){for(var _,s,n=1,i="",l="",u=[0],d=function(c){n===1&&(c||(i=i.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?u.push(0,c,i):n===3&&(c||i)?(u.push(3,c,i),n=2):n===2&&i==="..."&&c?u.push(4,c,0):n===2&&i&&!c?u.push(5,0,!0,i):n>=5&&((i||!c&&n===5)&&(u.push(n,0,i,s),n=6),c&&(u.push(n,c,0,s),n=6)),i=""},r=0;r<o.length;r++){r&&(n===1&&d(),d(r));for(var a=0;a<o[r].length;a++)_=o[r][a],n===1?_==="<"?(d(),u=[u],n=3):i+=_:n===4?i==="--"&&_===">"?(n=1,i=""):i=_+i[0]:l?_===l?l="":i+=_:_==='"'||_==="'"?l=_:_===">"?(d(),n=1):n&&(_==="="?(n=5,s=i,i=""):_==="/"&&(n<5||o[r][a+1]===">")?(d(),n===3&&(u=u[0]),n=u,(u=u[0]).push(2,0,n),n=0):_===" "||_==="	"||_===`
`||_==="\r"?(d(),n=2):i+=_),n===3&&i==="!--"&&(n=4,u=u[0])}return d(),u}(e)),t),arguments,[])).length>1?t:t[0]}const pt=ht.bind(L);function yt(e,...t){const o={enumerable:!0,configurable:!0};return t.forEach(_=>{_&&Object.keys(_).forEach(s=>{const n=Object.getOwnPropertyDescriptor(_,s);Object.defineProperty(e,s,Object.assign(n,o))})}),e}const vt=(e,t,o=[])=>{Y(e,{observedAttributes:o,attributeChanged(){this.render()},render(_){const s=t(_);pe(s,_)}})};p.$define=Y,p.$defineAsync=at,p.Fragment=M,p.completeAssign=yt,p.createContext=Ve,p.createElement=L,p.define=vt,p.get=ct,p.h=L,p.html=pt,p.render=pe,p.upgrade=ut,p.useCallback=Qe,p.useContext=ze,p.useEffect=Ge,p.useLayoutEffect=Je,p.useMemo=me,p.useReducer=Se,p.useRef=Xe,p.useState=Ke,p.whenDefined=Le,Object.defineProperties(p,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
